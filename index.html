<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>PureDairy ‚Äî Fresh Milk & Dairy</title>
  <style>
    /* Simple reset */
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial; color:#222; background:#f7f9fb; line-height:1.4; }

    /* Header */
    header { background: linear-gradient(90deg,#2b7a78,#88d498); color:#fff; padding:18px 20px; position:sticky; top:0; z-index:10; box-shadow:0 4px 10px rgba(0,0,0,0.08);}
    .brand { display:flex; gap:12px; align-items:center; max-width:1100px; margin:0 auto; }
    .logo { width:48px; height:48px; border-radius:8px; background:white; display:grid; place-items:center; color:#2b7a78; font-weight:700; }
    nav { margin-left:auto; display:flex; gap:12px; align-items:center; }
    nav a { color: rgba(255,255,255,0.95); text-decoration:none; font-weight:600; padding:6px 10px; border-radius:6px; }
    nav a:hover { background: rgba(255,255,255,0.12); }

    /* Hero */
    .hero { padding:48px 20px; max-width:1100px; margin:12px auto; display:grid; grid-template-columns:1fr 380px; gap:24px; align-items:center;}
    .hero-card { background:linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.95)); padding:22px; border-radius:14px; box-shadow:0 8px 20px rgba(16,24,40,0.06); }
    .hero h1 { font-size:28px; color:#134e4a; margin-bottom:8px; }
    .hero p { color:#2b7a78; margin-bottom:12px; }
    .cta { display:flex; gap:8px; }
    .btn { background:#2b7a78; color:white; padding:10px 14px; border-radius:8px; text-decoration:none; font-weight:700; border:none; cursor:pointer; }
    .btn.alt { background:transparent; color:#2b7a78; border:2px solid #2b7a78; }

    /* Products */
    .section { max-width:1100px; margin:18px auto; padding:0 20px; }
    .grid { display:grid; grid-template-columns: repeat(auto-fill,minmax(240px,1fr)); gap:16px; }
    .card { background:white; padding:14px; border-radius:12px; box-shadow:0 6px 16px rgba(16,24,40,0.04); display:flex; flex-direction:column; gap:8px; }
    .card img { width:100%; height:150px; object-fit:cover; border-radius:8px; }
    .price { color:#c05621; font-weight:800; }
    .card .actions { margin-top:auto; display:flex; gap:8px; }

    /* Cart / Order form */
    .sidebar { background:linear-gradient(180deg,#fff,#fbfffb); padding:16px; border-radius:12px; border:1px solid rgba(0,0,0,0.03); }
    .cart-item { display:flex; gap:10px; align-items:center; padding:8px 0; border-bottom:1px dashed rgba(0,0,0,0.05); }
    .qty { width:36px; text-align:center; border:1px solid #e6f2ef; padding:6px 0; border-radius:6px; background:#fff; }

    form label { display:block; margin:8px 0 4px; font-weight:600; color:#2b7a78; }
    input, select, textarea { width:100%; padding:8px 10px; border-radius:8px; border:1px solid #e6f2ef; }
    textarea { min-height:80px; resize:vertical; }

    footer { max-width:1100px; margin:24px auto; padding:16px 20px; text-align:center; color:#555; font-size:14px; }

    /* small screens */
    @media (max-width:880px){
      .hero { grid-template-columns: 1fr; }
      nav { display:none; }
    }
  </style>
</head>
<body>

  <header>
    <div class="brand">
      <div class="logo">PD</div>
      <div>
        <div style="font-weight:800; font-size:18px">PureDairy</div>
        <div style="font-size:12px; opacity:0.9">Fresh milk & dairy ‚Äî home delivery</div>
      </div>

      <nav>
        <a href="#products">Products</a>
        <a href="#order">Order</a>
        <a href="#contact">Contact</a>
      </nav>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="hero-card">
        <h1>Fresh from our farm ‚Äî delivered to your door</h1>
        <p>Daily fresh milk, ghee, paneer and curd. Subscribe for recurring deliveries or place one-time orders.</p>
        <div class="cta">
          <button class="btn" id="openOrderBtn">Place Order</button>
          <a class="btn alt" href="#products">See Products</a>
        </div>
        <ul style="margin-top:12px; color:#345; list-style:disc; padding-left:18px">
          <li>Hygienically packed</li>
          <li>Daily delivery timings ‚Äî 6AM‚Äì10 PM</li>
          <li>Flexible container sizes</li>
        </ul>
      </div>

      <aside class="sidebar">
        <h3 style="color:#124e4a">Your Cart</h3>
        <div id="cartList">
          <p style="opacity:0.7">No items yet ‚Äî add products to your cart.</p>
        </div>
        <div style="margin-top:12px; display:flex; gap:8px; justify-content:space-between; align-items:center;">
          <div><strong>Total:</strong> <span id="cartTotal">‚Çπ0</span></div>
          <button class="btn" id="checkoutBtn">Checkout</button>
        </div>
      </aside>
    </section>

    <section id="products" class="section">
      <h2 style="color:#124e4a; margin-bottom:10px">Products</h2>
      <div class="grid" id="productGrid">
        <!-- products populated by JS -->
      </div>
    </section>

    <section id="order" class="section" style="margin-top:18px;">
      <h2 style="color:#124e4a; margin-bottom:10px">Place an Order</h2>
      <div style="display:grid; grid-template-columns:1fr 360px; gap:20px;">
        <div class="card">
          <form id="orderForm">
            <label for="custName">Full name</label>
            <input id="custName" name="name" required />

            <label for="phone">Phone</label>
            <input id="phone" name="phone" required pattern="\d{10}" placeholder="10 digit mobile" />

            <label for="address">Delivery address</label>
            <textarea id="address" name="address" required></textarea>

            <label for="deliveryDate">Delivery date</label>
            <input id="deliveryDate" name="date" type="date" required />

            <label for="notes">Notes (optional)</label>
            <textarea id="notes" name="notes" placeholder="e.g. Leave at door"></textarea>

            <div style="margin-top:12px; display:flex; gap:10px;">
              <button type="submit" class="btn">Submit Order<button>
              <button type="button" id="saveDraft" class="btn alt">Save Draft</button>
            </div>

            <p id="orderMsg" style="margin-top:10px; color:green; display:none;"></p>
          </form>
        </div>

        <div class="card">
          <h3 style="color:#2b7a78">Order summary</h3>
          <div id="summaryList" style="margin-top:8px;">
            <p style="opacity:0.7">Your selected items will appear here.</p>
          </div>
          <div style="margin-top:10px;"><strong>Total:</strong> <span id="summaryTotal">‚Çπ0</span></div>
        </div>
      </div>
    </section>

    <section id="contact" class="section" style="margin-top:18px;">
      <div class="card">
        <h2 style="color:#124e4a">Contact & Info</h2>
        <p>üìû 9885418823</p>
        <p>üìç Bhimavaram, Andhra Pradesh</p>
        <p>üìß muralikrishna200517@gmail.com</p>
        <p style="margin-top:8px; font-size:13px; color:#555">Subscribe to SMS updates for delivery window changes.</p>
      </div>
    </section>
  </main>

  <footer>
    &copy; <span id="year"></span> PureDairy ‚Äî All rights reserved.
  </footer>

  <script>
    // Basic product data (could be loaded from backend)
    const products = [
      { id: 'milk1', name: 'Fresh Cow Milk (1L)', price: 80, img: 'https://source.unsplash.com/600x400/?milk,milk-bottle' },
      { id: 'milk2', name: 'Toned Milk (1L)', price: 120, img: 'https://source.unsplash.com/600x400/?milk,glass' },
      { id: 'ghee',  name: 'Pure Ghee (500g)', price: 400, img: 'https://source.unsplash.com/600x400/?ghee,butter' },
      { id: 'paneer',name: 'Homemade Paneer (250g)', price: 150, img: 'https://source.unsplash.com/600x400/?paneer' },
      { id: 'curd',  name: 'Fresh Curd (500g)', price: 65, img: 'https://source.unsplash.com/600x400/?yogurt,curd' },
      { id: 'lassi', name: 'Sweet Lassi (500ml)', price: 50, img: 'https://source.unsplash.com/600x400/?lassi' }
    ];

    // in-memory cart
    let cart = JSON.parse(localStorage.getItem('pd_cart') || '[]');

    // utilities
    const formatRupee = v => '‚Çπ' + Number(v).toLocaleString('en-IN');

    // render products
    const productGrid = document.getElementById('productGrid');
    products.forEach(p => {
      const card = document.createElement('div');
      card.className = 'card';
      card.innerHTML = `
        <img src="${p.img}" alt="${p.name}">
        <div style="display:flex; justify-content:space-between; align-items:center;">
          <div style="font-weight:700">${p.name}</div>
          <div class="price">${formatRupee(p.price)}</div>
        </div>
        <div style="color:#555; font-size:13px; margin-top:6px">Freshly packed & delivered daily.</div>
        <div class="actions">
          <input type="number" min="1" value="1" id="qty-${p.id}" class="qty" />
          <button class="btn" data-add="${p.id}">Add</button>
        </div>
      `;
      productGrid.appendChild(card);
    });

    // add to cart handler
    productGrid.addEventListener('click', e => {
      const btn = e.target.closest('button[data-add]');
      if (!btn) return;
      const pid = btn.getAttribute('data-add');
      const qtyInput = document.getElementById('qty-' + pid);
      const qty = Math.max(1, parseInt(qtyInput.value || 1));
      addToCart(pid, qty);
    });

    function addToCart(productId, qty=1){
      const prod = products.find(p=>p.id===productId);
      if (!prod) return;
      const existing = cart.find(i=>i.id===productId);
      if (existing) existing.qty += qty;
      else cart.push({ id:productId, name:prod.name, price:prod.price, qty });
      saveCart();
      renderCart();
      renderSummary();
    }

    function saveCart(){
      localStorage.setItem('pd_cart', JSON.stringify(cart));
    }

    function renderCart(){
      const el = document.getElementById('cartList');
      el.innerHTML = '';
      if (cart.length === 0){
        el.innerHTML = '<p style="opacity:0.7">No items yet ‚Äî add products to your cart.</p>';
        document.getElementById('cartTotal').textContent = formatRupee(0);
        return;
      }
      let total = 0;
      cart.forEach(item => {
        total += item.price * item.qty;
        const div = document.createElement('div');
        div.className = 'cart-item';
        div.innerHTML = `
          <div style="flex:1">
            <div style="font-weight:700">${item.name}</div>
            <div style="font-size:13px; opacity:0.8">${formatRupee(item.price)} √ó ${item.qty}</div>
          </div>
          <div style="display:flex; gap:6px; align-items:center;">
            <button data-dec="${item.id}" class="btn alt">-</button>
            <div style="min-width:26px; text-align:center;">${item.qty}</div>
            <button data-inc="${item.id}" class="btn">+</button>
            <button data-rem="${item.id}" class="btn alt" style="background:transparent; border:none; color:#c05621">‚úï</button>
          </div>
        `;
        el.appendChild(div);
      });
      document.getElementById('cartTotal').textContent = formatRupee(total);
    }

    // cart controls (inc/dec/remove)
    document.getElementById('cartList').addEventListener('click', e => {
      const inc = e.target.closest('button[data-inc]');
      const dec = e.target.closest('button[data-dec]');
      const rem = e.target.closest('button[data-rem]');
      if (inc){
        const id = inc.getAttribute('data-inc');
        const item = cart.find(i=>i.id===id);
        if (item) item.qty++;
        saveCart(); renderCart(); renderSummary();
      } else if (dec){
        const id = dec.getAttribute('data-dec');
        const item = cart.find(i=>i.id===id);
        if (item) {
          item.qty = Math.max(1, item.qty-1);
          saveCart(); renderCart(); renderSummary();
        }
      } else if (rem){
        const id = rem.getAttribute('data-rem');
        cart = cart.filter(i=>i.id!==id);
        saveCart(); renderCart(); renderSummary();
      }
    });

    // Order summary rendering
    function renderSummary(){
      const list = document.getElementById('summaryList');
      list.innerHTML = '';
      if (cart.length === 0){
        list.innerHTML = '<p style="opacity:0.7">Your selected items will appear here.</p>';
        document.getElementById('summaryTotal').textContent = formatRupee(0);
        return;
      }
      let total = 0;
      cart.forEach(i=>{
        total += i.price * i.qty;
        const row = document.createElement('div');
        row.style.display = 'flex';
        row.style.justifyContent = 'space-between';
        row.style.marginBottom = '6px';
        row.innerHTML = `<div>${i.name} √ó ${i.qty}</div><div>${formatRupee(i.price * i.qty)}</div>`;
        list.appendChild(row);
      });
      document.getElementById('summaryTotal').textContent = formatRupee(total);
    }

    // Order form handling
    const orderForm = document.getElementById('orderForm');
    orderForm.addEventListener('submit', e => {
      e.preventDefault();
      if (cart.length === 0){
        alert('Your cart is empty. Add at least one product.');
        return;
      }
      const data = {
        name: orderForm.name.value.trim(),
        phone: orderForm.phone.value.trim(),
        address: orderForm.address.value.trim(),
        date: orderForm.date.value,
        notes: orderForm.notes.value.trim(),
        cart: cart,
        total: cart.reduce((s,i)=>s + i.qty * i.price, 0),
        createdAt: new Date().toISOString()
      };

      // For demo: save in localStorage as submitted orders
      const orders = JSON.parse(localStorage.getItem('pd_orders') || '[]');
      orders.push(data);
      localStorage.setItem('pd_orders', JSON.stringify(orders));

      // Clear cart
      cart = []; saveCart(); renderCart(); renderSummary();

      const msg = document.getElementById('orderMsg');
      msg.style.display = 'block';
      msg.textContent = 'Order submitted! Thank you ‚Äî we will call to confirm.';
      orderForm.reset();

      // If you have a backend, replace the localStorage block with a fetch:
      // fetch('/order', {method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify(data)})
      //   .then(r=>r.json()).then(...).catch(...);
    });

    // Save draft button
    document.getElementById('saveDraft').addEventListener('click', () => {
      const draft = {
        name: orderForm.name.value.trim(),
        phone: orderForm.phone.value.trim(),
        address: orderForm.address.value.trim(),
        date: orderForm.date.value,
        notes: orderForm.notes.value.trim(),
        cart
      };
      localStorage.setItem('pd_draft', JSON.stringify(draft));
      alert('Draft saved locally.');
    });

    // Load draft on page load
    window.addEventListener('load', () => {
      document.getElementById('year').textContent = new Date().getFullYear();
      const draft = JSON.parse(localStorage.getItem('pd_draft') || 'null');
      if (draft){
        orderForm.name.value = draft.name || '';
        orderForm.phone.value = draft.phone || '';
        orderForm.address.value = draft.address || '';
        orderForm.date.value = draft.date || '';
        orderForm.notes.value = draft.notes || '';
        if (draft.cart && draft.cart.length) {
          cart = draft.cart;
          saveCart();
        }
      }
      renderCart();
      renderSummary();
    });

    // Open order section from hero CTA
    document.getElementById('openOrderBtn').addEventListener('click', () => {
      location.hash = '#order';
      document.getElementById('custName').focus();
    });

    // Checkout button scroll to order
    document.getElementById('checkoutBtn').addEventListener('click', () => {
      if (cart.length === 0) {
        alert('Cart empty ‚Äî add items to checkout.');
        return;
      }
      location.hash = '#order';
    });
  </script>
</body>
</html>

